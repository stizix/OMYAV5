<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMYA.ai - Transforme tes cours en fiches de r√©vision styl√©es</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s ease-in-out infinite',
                        'spin-slow': 'spin 3s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    {% csrf_token %}
</head>
<body class="bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen {% if user.is_authenticated %}user-authenticated{% endif %}">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/80 backdrop-blur-md z-50 border-b border-slate-200/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">
                        OMYA.ai
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#home" class="nav-link text-slate-700 hover:text-blue-600 transition-colors duration-300">Accueil</a>
                        <a href="/roadmap/" class="text-slate-700 hover:text-blue-600 transition-colors duration-300">√Ä venir</a>
                        <a href="#how-it-works" class="nav-link text-slate-700 hover:text-blue-600 transition-colors duration-300">Comment √ßa marche</a>
                        <a href="#pricing" class="nav-link text-slate-700 hover:text-blue-600 transition-colors duration-300">Tarifs</a>
                        {% if user.is_authenticated %}
                            <a href="/profile/" class="flex items-center space-x-2">
                                {% if user.profile_picture %}
                                    <img src="{{ user.profile_picture.url }}" alt="Profile" class="w-10 h-10 rounded-full object-cover border-2 border-blue-600">
                                {% else %}
                                    <i class="fas fa-user-circle text-3xl text-blue-600"></i>
                                {% endif %}
                            </a>
                        {% else %}
                            <a href="/login/" class="bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-all duration-300 hover:shadow-lg">Connexion</a>
                        {% endif %}
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-slate-700 hover:text-blue-600">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-md border-t border-slate-200/50">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#home" class="block px-3 py-2 text-slate-700 hover:text-blue-600">Accueil</a>
                <a href="/roadmap/" class="block px-3 py-2 text-slate-700 hover:text-blue-600">√Ä venir</a>
                <a href="#how-it-works" class="block px-3 py-2 text-slate-700 hover:text-blue-600">Comment √ßa marche</a>
                <a href="#pricing" class="block px-3 py-2 text-slate-700 hover:text-blue-600">Tarifs</a>
                {% if user.is_authenticated %}
                    <a href="/profile/" class="flex items-center space-x-2 px-3 py-2 text-blue-600 font-medium">

                            <i class="fas fa-user-circle text-2xl text-blue-600"></i>
                        <span>Profil</span>
                    </a>
                {% else %}
                    <a href="/login/" class="block px-3 py-2 text-blue-600 font-medium">Connexion</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="pt-24 pb-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="text-center">
                <div class="animate-float mb-8">
                    <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-xl mb-8">
                        <i class="fas fa-brain text-white text-3xl"></i>
                    </div>
                </div>
                <h1 class="text-5xl md:text-7xl font-bold text-slate-900 mb-6 leading-tight">
                    Transforme tes cours en
                    <span class="bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">
                        fiches de r√©vision styl√©es
                    </span>
                    avec l'IA
                </h1>
                <p class="text-xl md:text-2xl text-slate-600 mb-12 max-w-3xl mx-auto leading-relaxed">
                    Transcripts, r√©sum√©s, quiz ‚Äì tout √ßa en un clic. Transforme des heures d'audio en fiches de r√©vision organis√©es instantan√©ment. Plus besoin de prendre des notes √† la main ! üìù‚ú®
                </p>
                {% if not user.is_authenticated %}
                <button id="try-free-btn" onclick="window.location.href='/login/'" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-2xl text-lg font-semibold hover:shadow-2xl hover:scale-105 transition-all duration-300 inline-flex items-center space-x-2">
                    <span>Essaie gratuitement</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section id="upload-section" class="py-16 px-4 sm:px-6 lg:px-8 bg-white/50">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-slate-900 mb-4">Upload ton cours</h2>
                <p class="text-xl text-slate-600">Glisse-d√©pose ton fichier audio ou clique pour parcourir tes fichiers</p>
            </div>
            
            <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-12">
                <div id="upload-area" class="border-2 border-dashed border-blue-300 rounded-2xl p-12 text-center hover:border-blue-500 transition-all duration-300 cursor-pointer bg-gradient-to-br from-blue-50 to-indigo-50">
                    <div id="upload-content">
                        <div class="mb-6">
                            <i class="fas fa-cloud-upload-alt text-6xl text-blue-500 mb-4"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-slate-900 mb-2">D√©pose ton fichier audio ici</h3>
                        <p class="text-slate-600 mb-6">Supporte les fichiers MP3, M4A jusqu'√† 100MB (c'est le prix d'une pinte ! üç∫)</p>
                        <a href="/upload_course/">

                        <button class="bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors duration-300">
                            Choisir un fichier
                        </button>
                        </a>
                    </div>
                    <div id="file-info" class="hidden">
                        <div class="flex items-center justify-center space-x-4 mb-4">
                            <i class="fas fa-file-audio text-4xl text-blue-600"></i>
                            <div class="text-left">
                                <div id="file-name" class="text-lg font-semibold text-slate-900"></div>
                                <div id="file-details" class="text-slate-600"></div>
                            </div>
                        </div>
                        <a href="/upload_course/">
                        <button  class="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-3 rounded-xl hover:shadow-lg hover:scale-105 transition-all duration-300 font-semibold">
                            G√©n√®re mes fiches
                        </button>
                        </a>
                    </div>
                </div>
                <input type="file" id="file-input" class="hidden" accept=".mp3,.m4a">
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-900 to-blue-900 text-white">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-bold mb-6">Comment √ßa marche</h2>
                <p class="text-xl text-blue-100 max-w-3xl mx-auto leading-relaxed">
                    Notre IA de ouf transforme tes enregistrements de cours en fiches de r√©vision compl√®tes en seulement 3 √©tapes ultra-simples
                </p>
            </div>

            <!-- Process Steps -->
            <div class="grid lg:grid-cols-3 gap-8 mb-20">
                <!-- Step 1 -->
                <div class="text-center group">
                    <div class="relative mb-8">
                        <div class="w-24 h-24 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-3xl mx-auto flex items-center justify-center shadow-2xl group-hover:scale-110 transition-all duration-500">
                            <i class="fas fa-upload text-3xl text-white"></i>
                        </div>
                        <div class="absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                            1
                        </div>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">Upload ton audio</h3>
                    <p class="text-blue-100 leading-relaxed">
                        Glisse-d√©pose ton enregistrement de cours (MP3 ou M4A) ou parcours tes fichiers. On supporte jusqu'√† 100MB (soit le prix d'un kebab ! ü•ô)
                    </p>
                </div>

                <!-- Step 2 -->
                <div class="text-center group">
                    <div class="relative mb-8">
                        <div class="w-24 h-24 bg-gradient-to-r from-purple-500 to-pink-600 rounded-3xl mx-auto flex items-center justify-center shadow-2xl group-hover:scale-110 transition-all duration-500">
                            <i class="fas fa-brain text-3xl text-white animate-pulse-slow"></i>
                        </div>
                        <div class="absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                            2
                        </div>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">IA qui bosse</h3>
                    <p class="text-blue-100 leading-relaxed">
                        Notre IA transcrit ton audio, rep√®re les concepts cl√©s et structure tout √ßa en modules de r√©vision digestes. Plus besoin de r√©√©couter 10 fois !
                    </p>
                </div>

                <!-- Step 3 -->
                <div class="text-center group">
                    <div class="relative mb-8">
                        <div class="w-24 h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-3xl mx-auto flex items-center justify-center shadow-2xl group-hover:scale-110 transition-all duration-500">
                            <i class="fas fa-graduation-cap text-3xl text-white"></i>
                        </div>
                        <div class="absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                            3
                        </div>Upload
                    </div>
                    <h3 class="text-2xl font-bold mb-4">R√©cup√®re tes fiches</h3>
                    <p class="text-blue-100 leading-relaxed">
                        Re√ßois tes fiches compl√®tes, r√©sum√©s, exercices et quiz - tout parfaitement organis√© pour r√©viser efficacement. Fini les nuits blanches ! üò¥
                    </p>
                </div>
            </div>

            <!-- Features Showcase -->
            <div class="grid lg:grid-cols-2 gap-12 items-center mb-20">
                <div>
                    <h3 class="text-4xl font-bold mb-6">Propuls√© par une IA goatesque</h3>
                    <div class="space-y-6">
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-microphone text-blue-400"></i>
                            </div>
                            <div>
                                <h4 class="text-xl font-semibold mb-2">Transcription Speech-to-Text</h4>
                                <p class="text-blue-100">
                                    Pr√©cision de malade avec support pour tous les accents et le jargon technique (m√™me celui de ton prof qui marmonne !)
                                </p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-lightbulb text-purple-400"></i>
                            </div>
                            <div>
                                <h4 class="text-xl font-semibold mb-2">R√©sum√©s intelligents</h4>
                                <p class="text-blue-100">
                                    L'IA rep√®re les concepts cl√©s et cr√©e des r√©sum√©s structur√©s pour une meilleure compr√©hension (plus besoin de relire 50 pages !)
                                </p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-question-circle text-green-400"></i>
                            </div>
                            <div>
                                <h4 class="text-xl font-semibold mb-2">Quiz auto-g√©n√©r√©s</h4>
                                <p class="text-blue-100">
                                    G√©n√©ration de questions intelligentes bas√©es sur le contenu du cours pour tester ta compr√©hension (et te pr√©parer aux examens !)
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="relative">
                    <div class="bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-3xl p-8 backdrop-blur-sm border border-white/10">
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                                <span class="text-sm text-blue-200">IA qui bosse...</span>
                            </div>
                            <div class="bg-white/5 rounded-xl p-4">
                                <div class="flex items-center space-x-2 mb-2">
                                    <i class="fas fa-file-audio text-blue-400"></i>
                                    <span class="text-sm font-medium">cours_maths_avancees.mp3</span>
                                </div>
                                <div class="w-full bg-white/10 rounded-full h-2">
                                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full animate-pulse" style="width: 75%"></div>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div class="bg-white/5 rounded-lg p-3 text-center">
                                    <div class="text-2xl font-bold text-blue-400">98%</div>
                                    <div class="text-xs text-blue-200">Pr√©cision</div>
                                </div>
                                <div class="bg-white/5 rounded-lg p-3 text-center">
                                    <div class="text-2xl font-bold text-purple-400">45m</div>
                                    <div class="text-xs text-blue-200">Dur√©e</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- What You Get -->
            <div class="text-center mb-12">
                <h3 class="text-4xl font-bold mb-6">Ce que tu obtiens</h3>
                <p class="text-xl text-blue-100 max-w-2xl mx-auto">
                    Chaque upload g√©n√®re un package de r√©vision complet adapt√© √† tes besoins d'apprentissage
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all duration-300">
                    <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mb-4">
                        <i class="fas fa-file-alt text-2xl text-white"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">page de r√©vision complet</h4>
                    <p class="text-blue-100 text-sm">
                        Notre page de r√©vision va te permettre d'apprendre et de t'entrainer juste gr√¢ce √† un audio !!! voicice qu'elle comporte -> 
                    </p>
                </div>

                <div class="bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all duration-300">
                    <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mb-4">
                        <i class="fas fa-list-ul text-2xl text-white"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">R√©sum√©s intelligents</h4>
                    <p class="text-blue-100 text-sm">
                        Points cl√©s organis√©s en sections digestes avec les concepts principaux mis en √©vidence
                    </p>
                </div>

                <div class="bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all duration-300">
                    <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mb-4">
                        <i class="fas fa-dumbbell text-2xl text-white"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Exercices pratiques</h4>
                    <p class="text-blue-100 text-sm">
                        Exercices cibl√©s pour renforcer l'apprentissage et tester ta compr√©hension
                    </p>
                </div>

                <div class="bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all duration-300">
                    <div class="w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mb-4">
                        <i class="fas fa-question-circle text-2xl text-white"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Quiz interactifs</h4>
                    <p class="text-blue-100 text-sm">
                        Questions √† choix multiples avec feedback instantan√© et explications
                    </p>
                </div>
            </div>

            <!-- Demo Video Placeholder -->
            <div class="mt-20 text-center">
                <h3 class="text-4xl font-bold mb-6">Voir en action</h3>
                <div class="max-w-4xl mx-auto">
                    <div class="relative bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-3xl p-8 backdrop-blur-sm border border-white/10">
                        <div class="aspect-video bg-slate-800/50 rounded-2xl flex items-center justify-center relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-br from-blue-600/20 to-purple-600/20"></div>
                            <button class="relative z-10 w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition-all duration-300 hover:scale-110">
                                <i class="fas fa-play text-3xl text-white ml-1"></i>
                            </button>
                            <div class="absolute bottom-4 left-4 text-white/80">

                            </div>
                        </div>
                        <p class="text-blue-100 mt-4">
                            Regarde comment un cours de maths de 45 minutes devient un package de r√©vision complet en moins de 3 minutes
                        </p>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="mt-20 text-center">
                <div class="bg-gradient-to-r from-blue-600/20 to-indigo-600/20 backdrop-blur-sm rounded-3xl p-12 border border-white/10">
                    <h3 class="text-4xl font-bold mb-4">Pr√™t √† r√©volutionner tes r√©visions ?</h3>
                    <p class="text-xl text-blue-100 mb-8 max-w-2xl mx-auto">
                        Rejoins des milliers d'√©tudiants qui r√©visent d√©j√† plus intelligemment avec des fiches IA
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-2xl text-lg font-semibold hover:shadow-2xl hover:scale-105 transition-all duration-300 inline-flex items-center justify-center space-x-2">
                            <a href="upload_course">
                            <span>Essaie gratuitement</span>
                            </a>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        <button  class="border-2 border-white/30 text-white px-8 py-4 rounded-2xl text-lg font-semibold hover:bg-white/10 transition-all duration-300 inline-flex items-center justify-center space-x-2">
                            <a href="#pricing">
                            <span >Voir les tarifs</span>
                            </a>
                            <i  class="fas fa-external-link-alt"></i>
                        </button>

                    </div>
                    <br>
                                            <p>Spoiler : m√™me le plan payant co√ªte moins cher qu‚Äôun caf√© par semaine ‚òï.</p>

                </div>
            </div>

        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-50 to-blue-50">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-bold text-slate-900 mb-6">Choisis ton plan</h2>
                <p class="text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed mb-8">
                    Commence gratuitement et upgrade au fur et √† mesure. Tous les plans incluent notre transcription IA et g√©n√©ration de fiches.
                </p>
                
                <!-- Billing Toggle -->
                <div class="flex items-center justify-center space-x-4 mb-12">
                    <span class="text-slate-600 font-medium">Mensuel</span>
                    <button id="billing-toggle" class="relative inline-flex h-6 w-11 items-center rounded-full bg-slate-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        <span id="toggle-dot" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform translate-x-1"></span>
                    </button>
                    <span class="text-slate-600 font-medium">
                        Annuel 
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 ml-2">
                            √âconomise 20%
                        </span>
                    </span>
                </div>
            </div>

            <!-- Pricing Cards -->
            <div class="grid lg:grid-cols-4 gap-8 mb-16">
                <!-- Free Plan -->
                <div class="bg-white rounded-3xl shadow-xl p-8 border-2 border-transparent hover:border-blue-200 transition-all duration-300">
                    <div class="text-center mb-8">
                        <h3 class="text-2xl font-bold text-slate-900 mb-2">Gratuit</h3>
                        <p class="text-slate-600 mb-6">Parfait pour tester OMYA.ai (3h d'audio + 50k mots de contexte! )</p>
                        <div class="mb-6">
                            <span class="text-4xl font-bold text-slate-900">0‚Ç¨</span>
                            <span class="text-slate-600">/mois</span>
                            <p>(La au moins tu va pas te plaindre !!)</p>
                        </div>
                        <button class="w-full bg-slate-100 text-slate-700 py-3 px-6 rounded-xl font-semibold hover:bg-slate-200 transition-colors duration-300">
                            {% if user.is_authenticated and user.subscription == 'free' %}
                                Ton abonnement actuel
                            {% else %}
                                Commencer gratuitement
                            {% endif %}
                        </button>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">3h d'audio par mois (c'est d√©j√† pas mal !)</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">50 000 mots de transcription</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Transcription basique</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">R√©sum√©s simples</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-times text-slate-400"></i>
                            <span class="text-slate-400">Fonctionnalit√©s IA avanc√©es</span>
                        </div>

                        <div class="flex items-center space-x-3">
                            <i class="fas fa-times text-slate-400"></i>
                            <span class="text-slate-400">Options d'export</span>
                        </div>
                    </div>
                </div>

                <!-- Student Plan -->
                <div class="bg-white rounded-3xl shadow-xl p-8 border-2 border-blue-200 hover:border-blue-300 transition-all duration-300 relative">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                        <span class="bg-blue-600 text-white px-4 py-1 rounded-full text-sm font-medium">
                            Le plus populaire
                        </span>
                    </div>
                    <div class="text-center mb-8">
                        <h3 class="text-2xl font-bold text-slate-900 mb-2">√âtudiant</h3>
                        <p class="text-slate-600 mb-6">Id√©al pour les √©tudiants individuels (10h/mois + plus de texte !)</p>
                        <div class="mb-6">
                            <span class="text-4xl font-bold text-slate-900">
                                <span id="student-price">9‚Ç¨</span>
                            </span>
                            <span class="text-slate-600">/mois</span>
                            <p>(moins qu‚Äôun bon cocktail üç∫ pour r√©ussir l'ann√©e)</p>
                            <div class="text-sm text-green-600 font-medium mt-1">
                                <span id="student-savings" class="hidden">7,20‚Ç¨/mois factur√© annuellement</span>
                            </div>
                        </div>
                        {% if user.is_authenticated %}
                            {% if user.subscription == 'student' %}
                                <button class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-xl font-semibold" disabled>
                                    Ton abonnement actuel
                                </button>
                            {% else %}
                                <button onclick="startSubscription('student', this)" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 block text-center">
Choisir √âtudiant                      </button>
                            {% endif %}
                        {% else %}
                            <a href="/login/" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 block text-center">
                                Se connecter pour s'abonner
                            </a>
                        {% endif %}
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">10h d'audio par mois (de quoi tenir le mois !)</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">200 000 mots de transcription</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Transcription avanc√©e</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">R√©sum√©s intelligents</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Quiz auto-g√©n√©r√©s</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Exercices pratiques</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Export PDF & Word</span>
                        </div>
                    </div>
                </div>

                <!-- Pro Plan -->
                <div class="bg-white rounded-3xl shadow-xl p-8 border-2 border-transparent hover:border-purple-200 transition-all duration-300">
                    <div class="text-center mb-8">
                        <h3 class="text-2xl font-bold text-slate-900 mb-2">Pro</h3>
                        <p class="text-slate-600 mb-6">Pour les utilisateurs avanc√©s et professionnels (10h/mois + texte !)</p>
                        <div class="mb-6">
                            <span class="text-4xl font-bold text-slate-900">
                                <span id="pro-price">19‚Ç¨</span>
                            </span>
                            <span class="text-slate-600">/mois</span>
                            <p>Ton ann√©e est sauv√©e contre 2 tacos ... </p>
                            <div class="text-sm text-green-600 font-medium mt-1">
                                <span id="pro-savings" class="hidden">15,20‚Ç¨/mois factur√© annuellement</span>
                            </div>
                        </div>
                        {% if user.is_authenticated %}
                            {% if user.subscription == 'pro' %}
                                <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-xl font-semibold" disabled>
                                    Ton abonnement actuel
                                </button>
                            {% else %}
                                <button onclick="startSubscription('pro', this)" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 block text-center">
Choisir Pro                                </button>
                            {% endif %}
                        {% else %}
                            <a href="/login/" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 block text-center">
                                Se connecter pour s'abonner
                            </a>
                        {% endif %}
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">20h d'audio par mois (La t'es inarr√™table!)</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">500 000 mots de transcription</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Fonctionnalit√©s IA premium</span>
                        </div>

                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Analyses avanc√©es</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Traitement prioritaire</span>
                        </div>

                    </div>
                </div>

                <!-- Team Plan -->
                <div class="bg-white rounded-3xl shadow-xl p-8 border-2 border-transparent hover:border-orange-200 transition-all duration-300">
                    <div class="text-center mb-8">
                        <h3 class="text-2xl font-bold text-slate-900 mb-2">√âquipe</h3>
                        <p class="text-slate-600 mb-6">Parfait pour les institutions √©ducatives (pour les profs et les √©coles !)</p>
                        <div class="mb-6">
                            <span class="text-4xl font-bold text-slate-900">
                                <span id="team-price">49‚Ç¨</span>
                            </span>
                            <span class="text-slate-600">/mois</span>
                            <div class="text-sm text-green-600 font-medium mt-1">
                                <span id="team-savings" class="hidden">39,20‚Ç¨/mois factur√© annuellement</span>
                            </div>
                        </div>
                        {% if user.is_authenticated %}
                            {% if user.subscription == 'team' %}
                                <button class="w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 px-6 rounded-xl font-semibold" disabled>
                                    Ton abonnement actuel
                                </button>
                            {% else %}
                                <button onclick="startSubscription('team', this)" class="w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 block text-center">
                                Bient√¥t</button>
                            {% endif %}
                        {% else %}
                            <a href="/login/" class="w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 block text-center">
                                Se connecter pour s'abonner
                            </a>
                        {% endif %}
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Uploads illimit√©s (pour les gros consommateurs !)</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Jusqu'√† 8 heures par fichier</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Collaboration d'√©quipe</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Tableau de bord admin</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Int√©gration SSO</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Support prioritaire</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-check text-green-500"></i>
                            <span class="text-slate-700">Int√©grations personnalis√©es</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Feature Comparison Table -->
            <div class="bg-white rounded-3xl shadow-2xl overflow-hidden mb-16">
                <div class="bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6">
                    <h3 class="text-2xl font-bold text-white text-center">Comparaison des fonctionnalit√©s</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-slate-50">
                            <tr>
                                <th class="px-6 py-4 text-left text-sm font-semibold text-slate-900">Fonctionnalit√©s</th>
                                <th class="px-6 py-4 text-center text-sm font-semibold text-slate-900">Gratuit</th>
                                <th class="px-6 py-4 text-center text-sm font-semibold text-slate-900 bg-blue-50">√âtudiant</th>
                                <th class="px-6 py-4 text-center text-sm font-semibold text-slate-900">Pro</th>
                                <th class="px-6 py-4 text-center text-sm font-semibold text-slate-900">√âquipe</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                            <tr class="hover:bg-slate-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-sm text-slate-900 font-medium">Uploads mensuels</td>
                                <td class="px-6 py-4 text-center text-sm text-slate-600">3</td>
                                <td class="px-6 py-4 text-center text-sm text-slate-600 bg-blue-50">25</td>
                                <td class="px-6 py-4 text-center text-sm text-slate-600">100</td>
                                <td class="px-6 py-4 text-center text-sm text-slate-600">‚àû</td>
                            </tr>

                            <tr class="hover:bg-slate-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-sm text-slate-900 font-medium">Transcription IA</td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center bg-blue-50"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                            </tr>
                            <tr class="hover:bg-slate-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-sm text-slate-900 font-medium">R√©sum√©s intelligents</td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center bg-blue-50"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                            </tr>
                            <tr class="hover:bg-slate-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-sm text-slate-900 font-medium">Quiz auto-g√©n√©r√©s</td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center bg-blue-50"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                            </tr>
                            <tr class="hover:bg-slate-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-sm text-slate-900 font-medium">Options d'export</td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-times text-slate-400"></i></td>
                                <td class="px-6 py-4 text-center bg-blue-50"><i class="fas fa-times text-slate-400"></i></td>
                                <td class="px-6 py-4 text-center"><i >Soon</i></td>
                                <td class="px-6 py-4 text-center"><i >Soon</i></td>
                            </tr>


                            <tr class="hover:bg-slate-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-sm text-slate-900 font-medium">Support prioritaire</td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-times text-slate-400"></i></td>
                                <td class="px-6 py-4 text-center bg-blue-50"><i class="fas fa-times text-slate-400"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                                <td class="px-6 py-4 text-center"><i class="fas fa-check text-green-500"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- FAQ Section -->
            <div class="bg-white rounded-3xl shadow-xl p-8 md:p-12 mb-16">
                <h3 class="text-3xl font-bold text-slate-900 text-center mb-12">Questions fr√©quemment pos√©es</h3>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="space-y-6">
                        <div class="faq-item">
                            <button class="faq-question w-full text-left flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors duration-200">
                                <span class="font-semibold text-slate-900">Je peux annuler quand je veux ?</span>
                                <i class="fas fa-chevron-down text-slate-600 transition-transform duration-200"></i>
                            </button>
                            <div class="faq-answer hidden p-4 text-slate-600">
                                Oui, tu peux annuler ton abonnement √† tout moment. Ton acc√®s continuera jusqu'√† la fin de ta p√©riode de facturation actuelle.
                            </div>
                        </div>
                        <div class="faq-item">
                            <button class="faq-question w-full text-left flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors duration-200">
                                <span class="font-semibold text-slate-900">Quels formats de fichiers supportez-vous ?</span>
                                <i class="fas fa-chevron-down text-slate-600 transition-transform duration-200"></i>
                            </button>
                            <div class="faq-answer hidden p-4 text-slate-600">
                                On supporte MP3, M4A, WAV et autres formats audio courants. Les fichiers peuvent faire jusqu'√† 100MB sur le plan gratuit, avec des limites plus √©lev√©es sur les plans payants.
                            </div>
                        </div>
                        <div class="faq-item">
                            <button class="faq-question w-full text-left flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors duration-200">
                                <span class="font-semibold text-slate-900">Quelle est la pr√©cision de la transcription ?</span>
                                <i class="fas fa-chevron-down text-slate-600 transition-transform duration-200"></i>
                            </button>
                            <div class="faq-answer hidden p-4 text-slate-600">
                                Notre IA atteint 95-98% de pr√©cision sur les enregistrements audio clairs. La pr√©cision peut varier selon la qualit√© audio, les accents et la terminologie technique (m√™me avec ton prof qui marmonne !).
                            </div>
                        </div>
                    </div>
                    <div class="space-y-6">
                       
                        <div class="faq-item">
                            <button class="faq-question w-full text-left flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors duration-200">
                                <span class="font-semibold text-slate-900">Vous offrez des r√©ductions √©tudiantes ?</span>
                                <i class="fas fa-chevron-down text-slate-600 transition-transform duration-200"></i>
                            </button>
                            <div class="faq-answer hidden p-4 text-slate-600">
                               Pas pour le moment mais on pr√©voit d'offrir des r√©ductions √©tudiantes dans le futur. Reste √† l'√©coute pour les mises √† jour !
                            </div>
                        </div>
                        <div class="faq-item">
                            <button class="faq-question w-full text-left flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors duration-200">
                                <span class="font-semibold text-slate-900">Je peux changer de plan ?</span>
                                <i class="fas fa-chevron-down text-slate-600 transition-transform duration-200"></i>
                            </button>
                            <div class="faq-answer hidden p-4 text-slate-600">
                                Absolument ! Tu peux changer de plan √† tout moment. Les upgrades prennent effet imm√©diatement, tandis que les downgrades prennent effet √† ton prochain cycle de facturation.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trust Indicators 
            <div class="text-center">
                <h3 class="text-2xl font-bold text-slate-900 mb-8">Trusted by Students Worldwide</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 items-center opacity-60">
                    <div class="flex items-center justify-center">
                        <div class="text-2xl font-bold text-slate-600">10K+</div>
                        <div class="ml-2 text-slate-500">Students</div>
                    </div>
                    <div class="flex items-center justify-center">
                        <div class="text-2xl font-bold text-slate-600">500+</div>
                        <div class="ml-2 text-slate-500">Universities</div>
                    </div>
                    <div class="flex items-center justify-center">
                        <div class="text-2xl font-bold text-slate-600">1M+</div>
                        <div class="ml-2 text-slate-500">Hours Processed</div>
                    </div>
                    <div class="flex items-center justify-center">
                        <div class="text-2xl font-bold text-slate-600">4.9/5</div>
                        <div class="ml-2 text-slate-500">Rating</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
-->
    <!-- Footer -->
    <footer >
        <div class="max-w-7xl mx-auto">
            <div class="grid md:grid-cols-4 gap-8">
                <div class="col-span-2">
                    <div class="text-2xl font-bold mb-4">OMYA.ai</div>
                    <p class="text-slate-400 mb-4 max-w-md">
                        Transforme tes cours en fiches de r√©vision intelligentes avec la puissance de l'IA. Apprends plus intelligemment, pas plus dur.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-slate-400 hover:text-white transition-colors duration-300">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="text-slate-400 hover:text-white transition-colors duration-300">
                            <i class="fab fa-linkedin text-xl"></i>
                        </a>

                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Produit</h4>
                    <ul class="space-y-2 text-slate-400">
                        <li><a href="#how-it-works" class="hover:text-white transition-colors duration-300">Fonctionnalit√©s</a></li>
                        <li><a href="/roadmap/" class="hover:text-white transition-colors duration-300">√Ä venir</a></li>
                        <li><a href="#pricing" class="hover:text-white transition-colors duration-300">Tarifs</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-slate-400">
                        <li><a href="mailto:hello@omya.ai" class="hover:text-white transition-colors duration-300">issa@nla-tech.com</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-slate-800 mt-8 pt-8 text-center text-slate-400">
                <p>&copy; 2025 OMYA.ai. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <!-- Stripe Script -->
    <script src="https://js.stripe.com/embedded/v1.js"></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuBtn && mobileMenu) {
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
                // Close mobile menu if open
                if (mobileMenu) mobileMenu.classList.add('hidden');
            });
        });

        // Try it for free button
        const tryFreeBtn = document.getElementById('try-free-btn');
        const uploadSection = document.getElementById('upload-section');
        if (tryFreeBtn && uploadSection) {
            tryFreeBtn.addEventListener('click', () => {
                uploadSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        }

        // File upload functionality
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const uploadContent = document.getElementById('upload-content');
        const fileInfo = document.getElementById('file-info');
        const fileName = document.getElementById('file-name');
        const fileDetails = document.getElementById('file-details');
        const generateBtn = document.getElementById('generate-btn');

        if (uploadArea && fileInput && uploadContent && fileInfo && fileName && fileDetails && generateBtn) {
            // Click to upload
            uploadArea.addEventListener('click', () => {
                fileInput.click();
            });
            // Drag and drop
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('border-blue-500', 'bg-blue-100');
            });
            uploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('border-blue-500', 'bg-blue-100');
            });
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('border-blue-500', 'bg-blue-100');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFile(files[0]);
                }
            });
            // File input change
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleFile(e.target.files[0]);
                }
            });
            function handleFile(file) {
                // Validate file type
                const allowedTypes = ['audio/mp3', 'audio/mpeg', 'audio/mp4', 'audio/m4a'];
                if (!allowedTypes.includes(file.type) && !file.name.toLowerCase().endsWith('.mp3') && !file.name.toLowerCase().endsWith('.m4a')) {
                    alert('Merci d\'uploader un fichier MP3 ou M4A.');
                    return;
                }
                // Validate file size (100MB limit)
                if (file.size > 100 * 1024 * 1024) {
                    alert('La taille du fichier doit √™tre inf√©rieure √† 100MB.');
                    return;
                }
                // Display file info
                fileName.textContent = file.name;
                const sizeInMB = (file.size / (1024 * 1024)).toFixed(2);
                fileDetails.textContent = `${sizeInMB} MB ‚Ä¢ Fichier Audio`;
                uploadContent.classList.add('hidden');
                fileInfo.classList.remove('hidden');
            }
            // Generate notes button
            generateBtn.addEventListener('click', () => {
                const loadingSection = document.getElementById('loading-section');
                const resultsSection = document.getElementById('results-section');
                const progressBar = document.getElementById('progress-bar');
                const progressText = document.getElementById('progress-text');
                if (uploadSection && loadingSection && resultsSection && progressBar && progressText) {
                    uploadSection.style.display = 'none';
                    loadingSection.classList.remove('hidden');
                    // Simulate progress
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += Math.random() * 15;
                        if (progress > 100) progress = 100;
                        progressBar.style.width = progress + '%';
                        progressText.textContent = Math.round(progress) + '% termin√©';
                        if (progress >= 100) {
                            clearInterval(interval);
                            setTimeout(() => {
                                loadingSection.classList.add('hidden');
                                resultsSection.classList.remove('hidden');
                                resultsSection.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'start'
                                });
                            }, 1000);
                        }
                    }, 200);
                }
            });
        }

        // Transcript toggle
        const transcriptToggle = document.getElementById('transcript-toggle');
        const transcriptContent = document.getElementById('transcript-content');
        if (transcriptToggle && transcriptContent) {
            transcriptToggle.addEventListener('click', () => {
                transcriptContent.classList.toggle('hidden');
                const icon = transcriptToggle.querySelector('i');
                if (icon) {
                    icon.classList.toggle('fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                }
            });
        }

        // Add scroll effect to navbar
        const nav = document.querySelector('nav');
        if (nav) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    nav.classList.add('shadow-lg');
                } else {
                    nav.classList.remove('shadow-lg');
                }
            });
        }

        // Demo video play button
        const playButton = document.querySelector('.aspect-video button');
        if (playButton) {
            playButton.addEventListener('click', function() {
                // Simulate video play - you can replace this with actual video functionality
                this.innerHTML = '<i class="fas fa-pause text-3xl text-white"></i>';
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-play text-3xl text-white ml-1"></i>';
                }, 3000);
            });
        }

        // Add scroll animations for the how it works section
        const howItWorksEls = document.querySelectorAll('#how-it-works .group, #how-it-works .grid > div');
        if (howItWorksEls.length > 0) {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            howItWorksEls.forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        }

        // Billing toggle functionality
        const billingToggle = document.getElementById('billing-toggle');
        const toggleDot = document.getElementById('toggle-dot');
        const studentPrice = document.getElementById('student-price');
        const proPrice = document.getElementById('pro-price');
        const teamPrice = document.getElementById('team-price');
        const studentSavings = document.getElementById('student-savings');
        const proSavings = document.getElementById('pro-savings');
        const teamSavings = document.getElementById('team-savings');
        let isYearly = false;
        if (billingToggle && toggleDot && studentPrice && proPrice && teamPrice && studentSavings && proSavings && teamSavings) {
            billingToggle.addEventListener('click', () => {
                isYearly = !isYearly;
                if (isYearly) {
                    // Switch to yearly
                    billingToggle.classList.add('bg-blue-600');
                    billingToggle.classList.remove('bg-slate-300');
                    toggleDot.classList.add('translate-x-6');
                    toggleDot.classList.remove('translate-x-1');
                    // Update prices (20% discount)
                    studentPrice.textContent = '7,20‚Ç¨';
                    proPrice.textContent = '15,20‚Ç¨';
                    teamPrice.textContent = '39,20‚Ç¨';
                    // Show savings
                    studentSavings.classList.remove('hidden');
                    proSavings.classList.remove('hidden');
                    teamSavings.classList.remove('hidden');
                } else {
                    // Switch to monthly
                    billingToggle.classList.remove('bg-blue-600');
                    billingToggle.classList.add('bg-slate-300');
                    toggleDot.classList.remove('translate-x-6');
                    toggleDot.classList.add('translate-x-1');
                    // Update prices
                    studentPrice.textContent = '9‚Ç¨';
                    proPrice.textContent = '19‚Ç¨';
                    teamPrice.textContent = '49‚Ç¨';
                    // Hide savings
                    studentSavings.classList.add('hidden');
                    proSavings.classList.add('hidden');
                    teamSavings.classList.add('hidden');
                }
            });
        }

        // FAQ functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const faqItem = question.parentElement;
                const answer = faqItem.querySelector('.faq-answer');
                const icon = question.querySelector('i');
                // Toggle answer visibility
                answer.classList.toggle('hidden');
                // Rotate icon
                icon.classList.toggle('rotate-180');
                // Close other FAQ items
                document.querySelectorAll('.faq-item').forEach(item => {
                    if (item !== faqItem) {
                        item.querySelector('.faq-answer').classList.add('hidden');
                        item.querySelector('.faq-question i').classList.remove('rotate-180');
                    }
                });
            });
        });
        
/* ---- CSRF helpers ---- */
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}
const csrftoken = getCookie('csrftoken');

/* Call from HTML: onclick="startSubscription('student', this)" */
window.startSubscription = async function(plan, el) {
  // Guard: require auth (keeps your logic)
  if (!document.body.classList.contains('user-authenticated')) {
    window.location.href = '/login/';
    return;
  }

  const button = el || document.activeElement || null;
  const restore = () => {
    if (button) {
      button.disabled = false;
      button.innerHTML = originalText;
    }
  };

  let originalText = '';
  try {
    if (button) {
      originalText = button.innerHTML;
      button.disabled = true;
      button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
    }

    const response = await fetch('/subscription/create-checkout-session-hosted/', {
      method: 'POST',
      credentials: 'same-origin',                 // send cookies (session/CSRF)
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': csrftoken || ''            // CSRF for JSON POST
      },
      body: JSON.stringify({ plan, is_change: false })
    });

    if (!response.ok) {
      // This is exactly where your "Network response was not ok" was thrown
      // Usually 404 (bad URL) or 403 (CSRF).
      const text = await response.text().catch(() => '');
      throw new Error(`Network response was not ok (${response.status}) ${text}`);
    }

    const { url, error } = await response.json();

    if (error) throw new Error(error);
    if (!url) throw new Error('No checkout URL received');

    window.location.href = url; // redirect to Stripe Checkout

  } catch (err) {
    console.error('Payment error:', err);
    alert('Erreur lors du paiement: ' + (err?.message || err));
    restore();
  }
};

/* Optional: status check you already coded */
async function checkSubscriptionStatus() {
  if (!document.body.classList.contains('user-authenticated')) return;
  try {
    const response = await fetch('/subscription/check-status/', {
      method: 'GET',
      credentials: 'same-origin',
      headers: { 'X-CSRFToken': csrftoken || '' }
    });
    if (response.ok) {
      const data = await response.json();
      updateSubscriptionButtons(data.subscription);
    }
  } catch (e) {
    console.error('Error checking subscription status:', e);
  }
}

function updateSubscriptionButtons(currentSubscription) {
  const plans = ['student', 'pro', 'team'];
  plans.forEach(plan => {
    const button = document.querySelector(`button[onclick="startSubscription('${plan}', this)"]`)
                  || document.querySelector(`button[data-plan="${plan}"]`);
    if (!button) return;

    if (currentSubscription === plan) {
      button.disabled = true;
      button.innerHTML = 'Ton abonnement actuel';
      button.classList.remove('hover:shadow-lg','hover:scale-105');
      button.classList.add('opacity-75');
    } else if (currentSubscription !== 'free') {
      button.disabled = false;
      button.innerHTML = 'Changer de plan';
      button.classList.add('hover:shadow-lg','hover:scale-105');
      button.classList.remove('opacity-75');
      button.setAttribute('onclick', `startSubscription('${plan}', this)`);
    }
  });
}

if (document.body.classList.contains('user-authenticated')) {
  checkSubscriptionStatus();
}
    });
    </script>
</body>
</html>
